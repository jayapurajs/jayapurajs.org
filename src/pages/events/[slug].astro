---
import Layout from '../../layouts/Layout.astro';
import { events } from '../../data/events';
import MeetupContent from '../../content/events/initial-community-meetup.astro';
import WorkshopContent from '../../content/events/javascript-workshop.astro';

export async function getStaticPaths() {
  return events.map(event => ({
    params: { slug: event.slug },
    props: { event },
  }));
}

const { event } = Astro.props;
const isMeetup = event.slug === "initial-community-meetup"; 
const isWorkshop = event.slug === "javascript-workshop";
---

<Layout title={`${event.title} - Jayapura JS`} description={event.desc}>
  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-5 py-12 ">
    
    <div class="space-y-6">
      
      <div class="flex flex-col">
        <a
          href="/events"
          class="w-fit inline-flex items-center gap-2 mb-8 text-gray-500 hover:text-amber-600 transition-colors duration-200 font-medium group"
        >
          <svg
            class="w-4 h-4 group-hover:-translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          Back to Events
        </a>

        <article class="animate-fade-in">
          {isMeetup && <MeetupContent event={event} />}
          {isWorkshop && <WorkshopContent event={event} />}
        </article>
      </div>

    </div>
  </main>
</Layout>

<style>
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>